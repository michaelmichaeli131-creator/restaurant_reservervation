import{r as x,j as s,R as f,t as c,c as de}from"./floor-index.js";const p="/floor_assets/",oe=(r,i=1)=>{const b=Number(r);return Number.isFinite(b)?Math.max(.5,Math.min(1.6,b)):i},ie=r=>{const i=Number(r);return Number.isFinite(i)?Math.round(i/45)*45:0},ue=r=>{if(!r||r.startsWith("#"))return"parquet_blue";const i=r;return i==="parquet_blue"||i==="parquet_brown"||i==="slate_dark"||i==="navy_carpet"||i==="teal_terrazzo"?i:"parquet_blue"};function me(r){return{parquet_blue:{bg:`url(${p}floor_parquet_blue.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"},parquet_brown:{bg:`url(${p}floor_parquet_brown.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"},slate_dark:{bg:`url(${p}floor_slate_dark.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"},navy_carpet:{bg:`url(${p}floor_navy_carpet.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"},teal_terrazzo:{bg:`url(${p}floor_teal_terrazzo.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"}}[r]}function be(r,i){const b=String(r||"square").toLowerCase(),j=Number(i||0);return b==="round"?`${p}${j>=9?"round_table_10.svg":"round_table4.svg"}`:b==="booth"?`${p}${j>=6?"large_booth.svg":"booth4.svg"}`:b==="rect"?`${p}${j>=10?"square_table10.svg":j>=6?"square_table6.svg":j>=4?"square_table4.svg":"square_table2.svg"}`:`${p}${j>=10?"square_table10.svg":j>=6?"square_table6.svg":j>=4?"square_table4.svg":"square_table2.svg"}`}function ve(r,i){const b=String(r||"").toLowerCase();return b==="door"?`${p}door.svg`:b==="wall"?`${p}wall.svg`:b==="divider"?`${p}divider.svg`:b==="chair"?`${p}chair.svg`:b==="bar"?`${p}bar.svg`:b==="plant"?`${p}plant.svg`:i?`${p}${i}.svg`:`${p}divider.svg`}function pe({layout:r,mode:i,onTableClick:b,selectedTableId:j}){const S=x.useRef(null),W=x.useRef(null),[L,K]=x.useState(1),[q,X]=x.useState({x:0,y:0}),[U,O]=x.useState(!1),[k,_]=x.useState(!1),C=x.useRef(null),Y=60,T=x.useMemo(()=>ue(r.floorColor),[r==null?void 0:r.id]),B=x.useMemo(()=>me(T),[T]),D=x.useMemo(()=>{const t=Math.max(0,Number(r.gridRows??0)),e=Math.max(0,Number(r.gridCols??0)),n=(m,u,N)=>Math.max(u,Math.min(N,m));if(t<=0||e<=0)return{minX:0,minY:0,maxX:0,maxY:0,rows:t,cols:e};let o=1/0,a=1/0,v=-1/0,l=-1/0,w=!1;const y=(m,u,N,z)=>{const E=n(Number(m??0),0,e-1),$=n(Number(u??0),0,t-1),Z=n(Number(N??1),1,e),re=n(Number(z??1),1,t);o=Math.min(o,E),a=Math.min(a,$),v=Math.max(v,E+Z-1),l=Math.max(l,$+re-1),w=!0},R=Array.isArray(r.tables)?r.tables:[],M=Array.isArray(r.objects)?r.objects:[];for(const m of R)y(m.gridX??m.x,m.gridY??m.y,m.spanX,m.spanY);for(const m of M)y(m.gridX??m.x,m.gridY??m.y,m.spanX,m.spanY);return w?(o=n(o-1,0,e-1),a=n(a-1,0,t-1),v=n(v+1,0,e-1),l=n(l+1,0,t-1)):(o=0,a=0,v=e-1,l=t-1),{minX:o,minY:a,maxX:v,maxY:l,rows:t,cols:e}},[r==null?void 0:r.id]);x.useEffect(()=>{const t=n=>{n.code==="Space"&&O(!0)},e=n=>{n.code==="Space"&&(O(!1),_(!1))};return window.addEventListener("keydown",t),window.addEventListener("keyup",e),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",e)}},[]);const P=t=>Math.max(i==="view"?.01:.4,Math.min(2.5,t)),A=()=>{if(!S.current||!W.current)return;const t=S.current,e=getComputedStyle(t),n=parseFloat(e.paddingLeft||"0")||0,o=parseFloat(e.paddingRight||"0")||0,a=parseFloat(e.paddingTop||"0")||0,v=parseFloat(e.paddingBottom||"0")||0,l=24,w=Math.max(1,t.clientWidth-n-o-l*2),y=Math.max(1,t.clientHeight-a-v-l*2),{minX:R,minY:M,maxX:m,maxY:u}=D,N=Math.max(1,(m-R+1)*Y),z=Math.max(1,(u-M+1)*Y),E=i==="view"?1:1.2,$=P(Math.min(w/N,y/z,E));K($);const Z=Math.round(n+l+(w-N*$)/2-R*Y*$),re=Math.round(a+l+(y-z*$)/2-M*Y*$);X({x:Z,y:re})};x.useEffect(()=>{requestAnimationFrame(A)},[r==null?void 0:r.id]),x.useEffect(()=>{if(!S.current)return;let t=0;const e=new ResizeObserver(()=>{cancelAnimationFrame(t),t=requestAnimationFrame(A)});return e.observe(S.current),()=>{cancelAnimationFrame(t),e.disconnect()}},[r==null?void 0:r.id]);const h=(t,e,n)=>{if(!S.current)return;const o=S.current.getBoundingClientRect(),a=e-o.left,v=n-o.top;X(l=>{const w=t/L;return{x:Math.round(a-(a-l.x)*w),y:Math.round(v-(v-l.y)*w)}}),K(t)},Q=t=>{if(!(t.ctrlKey||t.metaKey))return;t.preventDefault();const e=P(L*(t.deltaY>0?.9:1.1));h(e,t.clientX,t.clientY)},g=t=>{const e=t.target;if(i==="view"){if(t.button!==0||e!=null&&e.closest(".fe-canvas-controls, button, a, input, textarea, select"))return;t.preventDefault(),C.current={moved:!1};const y={x:t.clientX,y:t.clientY},R={...q};let M=!1;const m=N=>{const z=N.clientX-y.x,E=N.clientY-y.y,$=Math.abs(z)+Math.abs(E);!M&&$>4&&(M=!0,C.current&&(C.current.moved=!0),_(!0)),M&&X({x:R.x+z,y:R.y+E})},u=()=>{M&&_(!1),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",u),C.current&&!C.current.moved&&(C.current=null)};window.addEventListener("mousemove",m),window.addEventListener("mouseup",u);return}const n=t.button===1,o=U&&t.button===0;if(!n&&!o)return;t.preventDefault(),_(!0);const a={x:t.clientX,y:t.clientY},v={...q},l=y=>{X({x:v.x+(y.clientX-a.x),y:v.y+(y.clientY-a.y)})},w=()=>{_(!1),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",w)};window.addEventListener("mousemove",l),window.addEventListener("mouseup",w)},d=x.useRef(null),F=t=>{if(i!=="view"||t.touches.length!==1)return;const e=t.touches[0],n=t.target;n!=null&&n.closest(".table, .floor-object, .fe-canvas-controls, button, a, input, textarea, select")||(t.preventDefault(),_(!0),d.current={startX:e.clientX,startY:e.clientY,panX:q.x,panY:q.y,active:!0})},ee=t=>{if(i!=="view")return;const e=d.current;if(!e||!e.active||t.touches.length!==1)return;const n=t.touches[0];t.preventDefault(),X({x:e.panX+(n.clientX-e.startX),y:e.panY+(n.clientY-e.startY)})},V=()=>{i==="view"&&(d.current=null,_(!1))},I=t=>Math.max(1,Number(t)||1)*Y,J=t=>{const e=(t||"").toLowerCase();return e.includes("occup")||e==="busy"||e==="taken"?"occupied":e.includes("reserv")||e.includes("book")?"reserved":e.includes("dirty")||e.includes("need")||e.includes("clean")?"dirty":"empty"},se=x.useMemo(()=>{const t=new Map;return(Array.isArray(r.tableStatuses)?r.tableStatuses:[]).forEach(e=>{const n=e&&e.tableId?String(e.tableId):"";n&&t.set(n,{status:J(String(e.status||"empty")),guestName:e.guestName??null,guestCount:e.guestCount??null,orderId:e.orderId??null})}),t},[r]),te=x.useMemo(()=>{const t=new Map;return(Array.isArray(r.tableStatuses)?r.tableStatuses:[]).forEach(e=>{const n=Number(e&&(e.tableNumber??0));!Number.isFinite(n)||n<=0||t.set(n,{status:J(String(e.status||"empty")),guestName:e.guestName??null,guestCount:e.guestCount??null,orderId:e.orderId??null})}),t},[r]),ne=t=>{const e=t.id?se.get(String(t.id)):void 0;if(e)return e;const n=Number(t.tableNumber??0);if(Number.isFinite(n)&&n>0){const o=te.get(n);if(o)return o}return{status:"empty"}};return s.jsxs("div",{className:`editor-canvas ${k?"is-panning":""}`,ref:S,onWheel:Q,onMouseDown:g,onTouchStart:F,onTouchMove:ee,onTouchEnd:V,style:{position:"relative"},children:[s.jsxs("div",{className:"fe-canvas-controls",children:[s.jsx("button",{className:"btn-icon-small",onClick:()=>{var e;const t=(e=S.current)==null?void 0:e.getBoundingClientRect();h(P(L*1.1),((t==null?void 0:t.left)||0)+40,((t==null?void 0:t.top)||0)+40)},title:"Zoom in",children:"＋"}),s.jsx("button",{className:"btn-icon-small",onClick:()=>{var e;const t=(e=S.current)==null?void 0:e.getBoundingClientRect();h(P(L*.9),((t==null?void 0:t.left)||0)+40,((t==null?void 0:t.top)||0)+40)},title:"Zoom out",children:"－"}),s.jsx("button",{className:"btn-icon-small",onClick:A,title:"Fit to screen",children:"⤢"}),s.jsxs("div",{className:"fe-zoom-readout",children:[Math.round(L*100),"%"]}),s.jsx("div",{className:"fe-hint",children:U?"Pan: drag":"Tip: hold Space to pan, Ctrl+wheel to zoom"})]}),s.jsx("div",{className:"fe-grid",ref:W,onClickCapture:t=>{var e;i==="view"&&(e=C.current)!=null&&e.moved&&(t.preventDefault(),t.stopPropagation(),C.current=null)},style:{direction:"ltr",gridTemplateColumns:`repeat(${r.gridCols}, ${Y}px)`,gridTemplateRows:`repeat(${r.gridRows}, ${Y}px)`,transform:`translate(${q.x}px, ${q.y}px) scale(${L})`,transformOrigin:"0 0","--cell":`${Y}px`,"--floor-bg":B.bg,"--floor-bg-size":B.size,"--floor-bg-repeat":B.repeat,"--floor-bg-position":B.pos},children:Array.from({length:r.gridRows*r.gridCols}).map((t,e)=>{var m;const n=Math.floor(e/r.gridCols),o=e%r.gridCols,a=r.tables.find(u=>o>=u.gridX&&o<u.gridX+(u.spanX||1)&&n>=u.gridY&&n<u.gridY+(u.spanY||1)),l=(r.objects??[]).find(u=>o>=u.gridX&&o<u.gridX+(u.spanX||1)&&n>=u.gridY&&n<u.gridY+(u.spanY||1)),w=!!a&&a.gridX===o&&a.gridY===n,y=!!l&&l.gridX===o&&l.gridY===n,R=n*r.gridCols+o,M=(((m=r.gridMask)==null?void 0:m[R])??1)===1;return s.jsxs("div",{className:`fe-grid-cell ${M?"active":"inactive"}`,children:[y&&l&&s.jsxs("div",{className:`floor-object type-${l.type}`,style:{width:`${I(l.spanX)}px`,height:`${I(l.spanY)}px`,transform:`rotate(${ie(l.rotationDeg??l.rotation??0)}deg)`,cursor:i==="view"?"default":"grab"},children:[s.jsx("img",{className:`fe-asset fe-asset--${(l.assetFile||"").replace(/[^a-z0-9]+/gi,"_").toLowerCase()}`,style:{transform:`scale(${oe(l.scale,1)})`},src:l.assetFile?`${p}${l.assetFile}`:ve(l.type,l.label),alt:""}),l.label&&s.jsx("div",{className:"obj-label",children:l.label})]}),w&&a&&(()=>{const u=ne(a),N=String(u.status||"empty"),z=j&&String(j)===String(a.id),E=i==="view",$=N==="occupied"?"תפוס":N==="reserved"?"שמור":N==="dirty"?"מלוכלך":"פנוי",Z=u.guestCount!=null&&u.guestCount!==""?` · ${u.guestCount}`:"";return s.jsxs("div",{className:`table floor-table status-${N} ${String(a.shape||"square")} ${z?"is-selected":""}`,onClick:()=>b==null?void 0:b(a.id),style:{position:"absolute",top:0,left:0,width:`${I(a.spanX)}px`,height:`${I(a.spanY)}px`,cursor:i==="view"?"pointer":"default"},children:[s.jsx("div",{className:"fe-table-visual","data-asset":a.assetFile||"",children:s.jsx("img",{className:`fe-asset fe-asset--${(a.assetFile||"").replace(/[^a-z0-9]+/gi,"_").toLowerCase()}`,style:{transform:`rotate(${ie(a.rotationDeg??a.rotation??0)}deg) scale(${oe(a.scale,1)})`},src:a.assetFile?`${p}${a.assetFile}`:be(a.shape,a.seats),alt:""})}),s.jsxs("div",{className:"fe-table-overlay",children:[s.jsx("div",{className:"table-label",children:a.name||(a.tableNumber!=null?`Table ${a.tableNumber}`:"Table")}),a.seats!=null&&s.jsxs("div",{className:"table-seats",children:[a.seats," seats"]})]}),E&&s.jsxs("div",{className:`sbv-status-pill is-${N}`,children:[s.jsx("span",{className:"sbv-dot"}),s.jsxs("span",{className:"sbv-status-text",children:[$,Z]})]})]})})()]},e)})})]})}function fe(r){const i=(r||"").toLowerCase();return i==="occupied"||i==="busy"||i==="taken"?"occupied":i==="reserved"||i==="booked"?"reserved":i==="dirty"||i==="needs_cleaning"?"dirty":"empty"}function G(r){return c(`floor.status.${r}`,r)}function he({restaurantId:r,mountMode:i="page"}){const[b,j]=f.useState([]),[S,W]=f.useState(null),[L,K]=f.useState(null),[q,X]=f.useState(!0),[U,O]=f.useState(null),[k,_]=f.useState(null),[C,Y]=f.useState([]),[T,B]=f.useState(null),D=typeof document<"u"?document.getElementById("sb-floor-root"):null,P=String((D==null?void 0:D.getAttribute("data-click-mode"))||(D==null?void 0:D.getAttribute("data-mode"))||(i==="lobby"?"lobby":"page")).toLowerCase();f.useEffect(()=>{(async()=>{try{const e=await fetch(`/api/floor-sections/${r}`);if(!e.ok)return;const n=await e.json(),o=Array.isArray(n)?n:(n==null?void 0:n.sections)??[];o.sort((a,v)=>(a.displayOrder??0)-(v.displayOrder??0)),Y(o)}catch{}})()},[r]);const A=f.useCallback(async()=>{try{const e=await fetch(`/api/floor-layouts/${r}/active`,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP ${e.status}`);const n=await e.json(),o=n&&n.id?n:(n==null?void 0:n.activeLayout)??null;if(!o){j([]),W(null),K(null),O(c("host.no_floor_plan","No active floor plan")),X(!1);return}j([o]),W(o.id),K(a=>a??o.id),O(null),X(!1),k&&((o.tables||[]).some(v=>String(v.id)===String(k))||_(null))}catch(e){O(c("host.err_load_map","Error loading floor map")+`: ${(e==null?void 0:e.message)??"unknown"}`),X(!1)}},[r,k]);f.useEffect(()=>{A();const e=setInterval(A,5e3);return()=>clearInterval(e)},[A]);const h=f.useMemo(()=>L?b.find(e=>e.id===L)??null:null,[b,L]),Q=f.useMemo(()=>h?T?{...h,tables:(h.tables||[]).filter(e=>e.sectionId===T)}:h:null,[h,T]),g=f.useMemo(()=>!h||!k?null:(h.tables||[]).find(e=>String(e.id)===String(k))??null,[h,k]),d=f.useMemo(()=>{if(!h||!g)return null;const e=h.tableStatuses;if(!Array.isArray(e))return null;const n=e.find(o=>String(o.tableId)===String(g.id));return n||(e.find(o=>o.tableNumber===g.number)??null)},[h,g]),F=f.useMemo(()=>fe(d==null?void 0:d.status),[d]),ee=e=>{_(e)},V=()=>_(null),I=async e=>{const n=g==null?void 0:g.id;if(n)try{const o=await fetch(`/api/tables/${r}/${n}/status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e})});if(!o.ok){const a=await o.text().catch(()=>"");throw new Error(a||`HTTP ${o.status}`)}await A()}catch(o){console.error("Failed to update table status:",o)}},J=async()=>{await I("dirty")},se=async()=>{await I("empty")},te=async()=>{await I("reserved")},ne=async()=>{await I("empty")},t=`floor-editor sb-floor-view ${i==="lobby"?"is-embed":""}`;return q?s.jsx("div",{className:t,children:s.jsx("div",{className:"sbv-loading",children:c("floor.loading","Loading floor plan...")})}):U||!h?s.jsx("div",{className:t,children:s.jsxs("div",{className:"sbv-error",children:[s.jsx("div",{className:"sbv-error-title",children:c("host.err_load_map","Cannot load floor map")}),s.jsx("div",{className:"sbv-error-sub",children:U??c("host.err_load_map","Error loading floor map")}),s.jsx("button",{className:"sbv-retry",onClick:A,children:c("common.btn_refresh","Retry")})]})}):s.jsx("div",{className:t,children:s.jsxs("div",{className:"sbv-shell",children:[s.jsxs("div",{className:"sbv-left",children:[s.jsxs("div",{className:"layout-tabs-bar sbv-view-topbar",children:[s.jsxs("div",{className:"sbv-topbar-left",children:[s.jsx("div",{className:"sbv-topbar-title",children:c("host.floor_map_title","Restaurant Map (Live)")}),s.jsx("div",{className:"sbv-topbar-sub",children:c("floor.hints.controls","Drag to pan, Ctrl+wheel to zoom")})]}),s.jsxs("div",{className:"sbv-legend","aria-label":"Legend",children:[s.jsxs("span",{className:"sbv-pill is-empty",children:[s.jsx("span",{className:"sbv-dot"})," ",G("empty")]}),s.jsxs("span",{className:"sbv-pill is-occupied",children:[s.jsx("span",{className:"sbv-dot"})," ",G("occupied")]}),s.jsxs("span",{className:"sbv-pill is-reserved",children:[s.jsx("span",{className:"sbv-dot"})," ",G("reserved")]}),s.jsxs("span",{className:"sbv-pill is-dirty",children:[s.jsx("span",{className:"sbv-dot"})," ",G("dirty")]})]}),C.length>1&&s.jsxs("div",{className:"sbv-section-tabs",role:"tablist","aria-label":c("floor.sections.title","Sections"),children:[s.jsx("button",{className:`sbv-section-tab ${T===null?"is-active":""}`,onClick:()=>B(null),role:"tab","aria-selected":T===null,children:c("common.all","All")}),C.map(e=>s.jsx("button",{className:`sbv-section-tab ${T===e.id?"is-active":""}`,onClick:()=>B(e.id),role:"tab","aria-selected":T===e.id,children:e.name},e.id))]})]}),s.jsx("div",{className:"editor-content sbv-editor-content",children:s.jsx(pe,{layout:Q,selectedTableId:k,onTableClick:ee,mode:"view"})})]}),s.jsx("aside",{className:`sbv-right ${i==="lobby"&&k?"open":""}`,"aria-label":c("host.table_details","Table details"),children:k?s.jsxs("div",{className:"sbv-right-panel",role:"dialog","aria-modal":"false",children:[s.jsxs("div",{className:"sbv-drawer-header",children:[s.jsx("div",{className:"sbv-drawer-title",children:c("host.table_details","Table Details")}),s.jsx("button",{className:"sbv-close",onClick:V,"aria-label":c("common.btn_close","Close"),children:"✕"})]}),s.jsxs("div",{className:"sbv-drawer-body",children:[s.jsxs("div",{className:"sbv-table-number",children:[c("host.table_label","Table")," ",(g==null?void 0:g.number)??"—"]}),s.jsxs("div",{className:`sbv-status-row is-${F}`,children:[s.jsx("span",{className:"sbv-status-dot"}),s.jsx("span",{className:"sbv-status-label",children:c("host.table_status_label","Table Status")}),s.jsx("span",{className:"sbv-status-value",children:G(F)})]}),s.jsxs("div",{className:"sbv-kv",children:[s.jsxs("div",{className:"sbv-kv-row",children:[s.jsx("div",{className:"sbv-kv-key",children:c("host.guest_name","Guest Name")}),s.jsx("div",{className:"sbv-kv-val",children:(d==null?void 0:d.guestName)??"—"})]}),s.jsxs("div",{className:"sbv-kv-row",children:[s.jsx("div",{className:"sbv-kv-key",children:c("host.num_guests","Guests")}),s.jsx("div",{className:"sbv-kv-val",children:(d==null?void 0:d.guestCount)!=null?String(d.guestCount):"—"})]}),s.jsxs("div",{className:"sbv-kv-row",children:[s.jsx("div",{className:"sbv-kv-key",children:c("host.reservation_time","Reservation Time")}),s.jsx("div",{className:"sbv-kv-val",children:(d==null?void 0:d.reservationTime)??"—"})]}),s.jsxs("div",{className:"sbv-kv-row",children:[s.jsx("div",{className:"sbv-kv-key",children:c("pos.waiter.items_label","Items")}),s.jsx("div",{className:"sbv-kv-val",children:(d==null?void 0:d.itemsCount)??"—"})]}),s.jsxs("div",{className:"sbv-kv-row",children:[s.jsx("div",{className:"sbv-kv-key",children:c("pos.waiter.subtotal","Subtotal")}),s.jsx("div",{className:"sbv-kv-val",children:(d==null?void 0:d.subtotal)??"—"})]})]})]}),s.jsxs("div",{className:"sbv-drawer-footer",children:[P==="lobby"||P==="waiter"?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"sbv-secondary-btn",onClick:J,disabled:F==="dirty",children:c("floor.mark_dirty","Mark Dirty")}),s.jsx("button",{className:"sbv-success-btn",onClick:se,disabled:F!=="dirty",children:c("floor.mark_clean","Mark Clean")})]}):null,P==="host"?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"sbv-primary-btn",onClick:te,disabled:F==="reserved",children:c("floor.mark_reserved","Mark Reserved")}),s.jsx("button",{className:"sbv-secondary-btn",onClick:ne,disabled:F==="empty",children:c("floor.mark_empty","Mark Empty")})]}):null,F==="occupied"&&(d!=null&&d.orderId)&&(g!=null&&g.number)?s.jsx("a",{className:"sbv-primary-btn",href:`/waiter/${r}/${g.number}`,children:c("pos.waiter.btn_open_order","Open Order")}):null,s.jsx("button",{className:"sbv-secondary-btn",onClick:V,children:c("common.btn_close","Close")})]})]}):s.jsxs("div",{className:"sbv-right-empty",children:[s.jsx("div",{className:"sbv-right-empty-title",children:c("host.table_details","Table Details")}),s.jsx("div",{className:"sbv-right-empty-sub",children:c("host.floor_map_help","Select a table on the map to view details.")})]})})]})})}const H=document.getElementById("sb-floor-root");if(!H)throw new Error("Missing #sb-floor-root");const le=H.getAttribute("data-rid")||H.getAttribute("data-restaurant-id")||"",ae=H.getAttribute("data-click-mode")||H.getAttribute("data-mode")||"page",ce=ae==="lobby"||ae==="host"?"lobby":"page";console.info("[FloorView] mount",{rid:le,mountMode:ce,clickMode:ae});de.createRoot(H).render(s.jsx(f.StrictMode,{children:s.jsx(he,{restaurantId:le,mountMode:ce})}));
