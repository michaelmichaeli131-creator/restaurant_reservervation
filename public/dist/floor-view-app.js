import{r as p,j as s,R as h,t as c,c as ve}from"./floor-index.js";const f="/floor_assets/",ie=(n,i=1)=>{const b=Number(n);return Number.isFinite(b)?Math.max(.5,Math.min(1.6,b)):i},le=n=>{const i=Number(n);return Number.isFinite(i)?Math.round(i/45)*45:0},pe=n=>{if(!n||n.startsWith("#"))return"parquet_blue";const i=n;return i==="parquet_blue"||i==="parquet_brown"||i==="slate_dark"||i==="navy_carpet"||i==="teal_terrazzo"?i:"parquet_blue"};function fe(n){return{parquet_blue:{bg:`url(${f}floor_parquet_blue.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"},parquet_brown:{bg:`url(${f}floor_parquet_brown.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"},slate_dark:{bg:`url(${f}floor_slate_dark.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"},navy_carpet:{bg:`url(${f}floor_navy_carpet.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"},teal_terrazzo:{bg:`url(${f}floor_teal_terrazzo.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"}}[n]}function he(n,i){const b=String(n||"square").toLowerCase(),w=Number(i||0);return b==="round"?`${f}${w>=9?"round_table_10.svg":"round_table4.svg"}`:b==="booth"?`${f}${w>=6?"large_booth.svg":"booth4.svg"}`:b==="rect"?`${f}${w>=10?"square_table10.svg":w>=6?"square_table6.svg":w>=4?"square_table4.svg":"square_table2.svg"}`:`${f}${w>=10?"square_table10.svg":w>=6?"square_table6.svg":w>=4?"square_table4.svg":"square_table2.svg"}`}function ge(n,i){const b=String(n||"").toLowerCase();return b==="door"?`${f}door.svg`:b==="wall"?`${f}wall.svg`:b==="divider"?`${f}divider.svg`:b==="chair"?`${f}chair.svg`:b==="bar"?`${f}bar.svg`:b==="plant"?`${f}plant.svg`:i?`${f}${i}.svg`:`${f}divider.svg`}function xe({layout:n,mode:i,onTableClick:b,selectedTableId:w}){const _=p.useRef(null),O=p.useRef(null),[C,G]=p.useState(1),[E,A]=p.useState({x:0,y:0}),[U,H]=p.useState(!1),[M,S]=p.useState(!1),L=p.useRef(null),T=60,Y=p.useMemo(()=>pe(n.floorColor),[n==null?void 0:n.id]),B=p.useMemo(()=>fe(Y),[Y]),k=p.useMemo(()=>{const t=Math.max(0,Number(n.gridRows??0)),e=Math.max(0,Number(n.gridCols??0)),r=(m,d,j)=>Math.max(d,Math.min(j,m));if(t<=0||e<=0)return{minX:0,minY:0,maxX:0,maxY:0,rows:t,cols:e};let o=1/0,a=1/0,v=-1/0,l=-1/0,y=!1;const N=(m,d,j,I)=>{const z=r(Number(m??0),0,e-1),D=r(Number(d??0),0,t-1),K=r(Number(j??1),1,e),se=r(Number(I??1),1,t);o=Math.min(o,z),a=Math.min(a,D),v=Math.max(v,z+K-1),l=Math.max(l,D+se-1),y=!0},P=Array.isArray(n.tables)?n.tables:[],$=Array.isArray(n.objects)?n.objects:[];for(const m of P)N(m.gridX??m.x,m.gridY??m.y,m.spanX,m.spanY);for(const m of $)N(m.gridX??m.x,m.gridY??m.y,m.spanX,m.spanY);return y?(o=r(o-1,0,e-1),a=r(a-1,0,t-1),v=r(v+1,0,e-1),l=r(l+1,0,t-1)):(o=0,a=0,v=e-1,l=t-1),{minX:o,minY:a,maxX:v,maxY:l,rows:t,cols:e}},[n==null?void 0:n.id,n==null?void 0:n.gridRows,n==null?void 0:n.gridCols,n==null?void 0:n.tables,n==null?void 0:n.objects]),q=p.useRef(C);p.useEffect(()=>{q.current=C},[C]),p.useEffect(()=>{const t=r=>{r.code==="Space"&&H(!0)},e=r=>{r.code==="Space"&&(H(!1),S(!1))};return window.addEventListener("keydown",t),window.addEventListener("keyup",e),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",e)}},[]);const X=t=>Math.max(i==="view"?.01:.4,Math.min(2.5,t)),g=()=>{if(!_.current||!O.current)return;const t=_.current,e=O.current,r=getComputedStyle(t),o=parseFloat(r.paddingLeft||"0")||0,a=parseFloat(r.paddingRight||"0")||0,v=parseFloat(r.paddingTop||"0")||0,l=parseFloat(r.paddingBottom||"0")||0,y=getComputedStyle(e),N=parseFloat(y.marginLeft||"0")||0,P=parseFloat(y.marginTop||"0")||0,$=12,m=Math.max(1,t.clientWidth-o-a-$*2),d=Math.max(1,t.clientHeight-v-l-$*2),{minX:j,minY:I,maxX:z,maxY:D}=k,K=Math.max(1,(z-j+1)*T),se=Math.max(1,(D-I+1)*T),ue=i==="view"?1:1.2,V=X(Math.min(m/K,d/se,ue));G(V);const me=Math.round(o+$+(m-K*V)/2-j*T*V-N),be=Math.round(v+$+(d-se*V)/2-I*T*V-P);A({x:me,y:be}),t.scrollLeft=0,t.scrollTop=0};p.useEffect(()=>{requestAnimationFrame(g)},[n==null?void 0:n.id,k.minX,k.minY,k.maxX,k.maxY]),p.useEffect(()=>{if(!_.current)return;let t=0;const e=new ResizeObserver(()=>{cancelAnimationFrame(t),t=requestAnimationFrame(g)});return e.observe(_.current),()=>{cancelAnimationFrame(t),e.disconnect()}},[n==null?void 0:n.id]);const Z=(t,e,r,o=q.current)=>{if(!_.current)return;const a=_.current.getBoundingClientRect(),v=e-a.left,l=r-a.top;A(y=>{const N=t/(o||1);return{x:Math.round(v-(v-y.x)*N),y:Math.round(l-(l-y.y)*N)}}),G(t)};p.useEffect(()=>{const t=_.current;if(!t)return;const e=r=>{if(!(r.ctrlKey||r.metaKey))return;r.preventDefault(),r.stopPropagation();const o=X(q.current*(r.deltaY>0?.9:1.1));Z(o,r.clientX,r.clientY,q.current)};return t.addEventListener("wheel",e,{passive:!1}),()=>t.removeEventListener("wheel",e)},[i]);const x=t=>{const e=t.target;if(i==="view"){if(t.button!==0||e!=null&&e.closest(".fe-canvas-controls, button, a, input, textarea, select"))return;t.preventDefault(),L.current={moved:!1};const N={x:t.clientX,y:t.clientY},P={...E};let $=!1;const m=j=>{const I=j.clientX-N.x,z=j.clientY-N.y,D=Math.abs(I)+Math.abs(z);!$&&D>4&&($=!0,L.current&&(L.current.moved=!0),S(!0)),$&&A({x:P.x+I,y:P.y+z})},d=()=>{$&&S(!1),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",d),L.current&&!L.current.moved&&(L.current=null)};window.addEventListener("mousemove",m),window.addEventListener("mouseup",d);return}const r=t.button===1,o=U&&t.button===0;if(!r&&!o)return;t.preventDefault(),S(!0);const a={x:t.clientX,y:t.clientY},v={...E},l=N=>{A({x:v.x+(N.clientX-a.x),y:v.y+(N.clientY-a.y)})},y=()=>{S(!1),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",y)};window.addEventListener("mousemove",l),window.addEventListener("mouseup",y)},u=p.useRef(null),F=t=>{if(i!=="view"||t.touches.length!==1)return;const e=t.touches[0],r=t.target;r!=null&&r.closest(".table, .floor-object, .fe-canvas-controls, button, a, input, textarea, select")||(S(!0),u.current={startX:e.clientX,startY:e.clientY,panX:E.x,panY:E.y,active:!0})},te=t=>{if(i!=="view")return;const e=u.current;if(!e||!e.active||t.touches.length!==1)return;const r=t.touches[0];A({x:e.panX+(r.clientX-e.startX),y:e.panY+(r.clientY-e.startY)})},Q=()=>{i==="view"&&(u.current=null,S(!1))},R=t=>Math.max(1,Number(t)||1)*T,ee=t=>{const e=(t||"").toLowerCase();return e.includes("occup")||e==="busy"||e==="taken"?"occupied":e.includes("reserv")||e.includes("book")?"reserved":e.includes("dirty")||e.includes("need")||e.includes("clean")?"dirty":"empty"},re=p.useMemo(()=>{const t=new Map;return(Array.isArray(n.tableStatuses)?n.tableStatuses:[]).forEach(e=>{const r=e&&e.tableId?String(e.tableId):"";r&&t.set(r,{status:ee(String(e.status||"empty")),guestName:e.guestName??null,guestCount:e.guestCount??null,orderId:e.orderId??null})}),t},[n]),ne=p.useMemo(()=>{const t=new Map;return(Array.isArray(n.tableStatuses)?n.tableStatuses:[]).forEach(e=>{const r=Number(e&&(e.tableNumber??0));!Number.isFinite(r)||r<=0||t.set(r,{status:ee(String(e.status||"empty")),guestName:e.guestName??null,guestCount:e.guestCount??null,orderId:e.orderId??null})}),t},[n]),ae=t=>{const e=t.id?re.get(String(t.id)):void 0;if(e)return e;const r=Number(t.tableNumber??0);if(Number.isFinite(r)&&r>0){const o=ne.get(r);if(o)return o}return{status:"empty"}};return s.jsxs("div",{className:`editor-canvas ${M?"is-panning":""}`,ref:_,onMouseDown:x,onTouchStart:F,onTouchMove:te,onTouchEnd:Q,style:{position:"relative",touchAction:"none",overscrollBehavior:"contain"},children:[s.jsxs("div",{className:"fe-canvas-controls",children:[s.jsx("button",{className:"btn-icon-small",onClick:()=>{var e;const t=(e=_.current)==null?void 0:e.getBoundingClientRect();Z(X(C*1.1),((t==null?void 0:t.left)||0)+40,((t==null?void 0:t.top)||0)+40)},title:"Zoom in",children:"＋"}),s.jsx("button",{className:"btn-icon-small",onClick:()=>{var e;const t=(e=_.current)==null?void 0:e.getBoundingClientRect();Z(X(C*.9),((t==null?void 0:t.left)||0)+40,((t==null?void 0:t.top)||0)+40)},title:"Zoom out",children:"－"}),s.jsx("button",{className:"btn-icon-small",onClick:g,title:"Fit to screen",children:"⤢"}),s.jsxs("div",{className:"fe-zoom-readout",children:[Math.round(C*100),"%"]}),s.jsx("div",{className:"fe-hint",children:U?"Pan: drag":"Tip: hold Space to pan, Ctrl+wheel to zoom"})]}),s.jsx("div",{className:"fe-grid",ref:O,onClickCapture:t=>{var e;i==="view"&&(e=L.current)!=null&&e.moved&&(t.preventDefault(),t.stopPropagation(),L.current=null)},style:{direction:"ltr",gridTemplateColumns:`repeat(${n.gridCols}, ${T}px)`,gridTemplateRows:`repeat(${n.gridRows}, ${T}px)`,transform:`translate(${E.x}px, ${E.y}px) scale(${C})`,transformOrigin:"0 0","--cell":`${T}px`,"--floor-bg":B.bg,"--floor-bg-size":B.size,"--floor-bg-repeat":B.repeat,"--floor-bg-position":B.pos},children:Array.from({length:n.gridRows*n.gridCols}).map((t,e)=>{var m;const r=Math.floor(e/n.gridCols),o=e%n.gridCols,a=n.tables.find(d=>o>=d.gridX&&o<d.gridX+(d.spanX||1)&&r>=d.gridY&&r<d.gridY+(d.spanY||1)),l=(n.objects??[]).find(d=>o>=d.gridX&&o<d.gridX+(d.spanX||1)&&r>=d.gridY&&r<d.gridY+(d.spanY||1)),y=!!a&&a.gridX===o&&a.gridY===r,N=!!l&&l.gridX===o&&l.gridY===r,P=r*n.gridCols+o,$=(((m=n.gridMask)==null?void 0:m[P])??1)===1;return s.jsxs("div",{className:`fe-grid-cell ${$?"active":"inactive"}`,children:[N&&l&&s.jsxs("div",{className:`floor-object type-${l.type}`,style:{width:`${R(l.spanX)}px`,height:`${R(l.spanY)}px`,transform:`rotate(${le(l.rotationDeg??l.rotation??0)}deg)`,cursor:i==="view"?"default":"grab"},children:[s.jsx("img",{className:`fe-asset fe-asset--${(l.assetFile||"").replace(/[^a-z0-9]+/gi,"_").toLowerCase()}`,style:{transform:`scale(${ie(l.scale,1)})`},src:l.assetFile?`${f}${l.assetFile}`:ge(l.type,l.label),alt:""}),l.label&&s.jsx("div",{className:"obj-label",children:l.label})]}),y&&a&&(()=>{const d=ae(a),j=String(d.status||"empty"),I=w&&String(w)===String(a.id),z=i==="view",D=j==="occupied"?"תפוס":j==="reserved"?"שמור":j==="dirty"?"מלוכלך":"פנוי",K=d.guestCount!=null&&d.guestCount!==""?` · ${d.guestCount}`:"";return s.jsxs("div",{className:`table floor-table status-${j} ${String(a.shape||"square")} ${I?"is-selected":""}`,onClick:()=>b==null?void 0:b(a.id),style:{position:"absolute",top:0,left:0,width:`${R(a.spanX)}px`,height:`${R(a.spanY)}px`,cursor:i==="view"?"pointer":"default"},children:[s.jsx("div",{className:"fe-table-visual","data-asset":a.assetFile||"",children:s.jsx("img",{className:`fe-asset fe-asset--${(a.assetFile||"").replace(/[^a-z0-9]+/gi,"_").toLowerCase()}`,style:{transform:`rotate(${le(a.rotationDeg??a.rotation??0)}deg) scale(${ie(a.scale,1)})`},src:a.assetFile?`${f}${a.assetFile}`:he(a.shape,a.seats),alt:""})}),s.jsxs("div",{className:"fe-table-overlay",children:[s.jsx("div",{className:"table-label",children:a.name||(a.tableNumber!=null?`Table ${a.tableNumber}`:"Table")}),a.seats!=null&&s.jsxs("div",{className:"table-seats",children:[a.seats," seats"]})]}),z&&s.jsxs("div",{className:`sbv-status-pill is-${j}`,children:[s.jsx("span",{className:"sbv-dot"}),s.jsxs("span",{className:"sbv-status-text",children:[D,K]})]})]})})()]},e)})})]})}function Ne(n){const i=(n||"").toLowerCase();return i==="occupied"||i==="busy"||i==="taken"?"occupied":i==="reserved"||i==="booked"?"reserved":i==="dirty"||i==="needs_cleaning"?"dirty":"empty"}function J(n){return c(`floor.status.${n}`,n)}function je({restaurantId:n,mountMode:i="page"}){const[b,w]=h.useState([]),[_,O]=h.useState(null),[C,G]=h.useState(null),[E,A]=h.useState(!0),[U,H]=h.useState(null),[M,S]=h.useState(null),[L,T]=h.useState([]),[Y,B]=h.useState(null),k=typeof document<"u"?document.getElementById("sb-floor-root"):null,q=String((k==null?void 0:k.getAttribute("data-click-mode"))||(k==null?void 0:k.getAttribute("data-mode"))||(i==="lobby"?"lobby":"page")).toLowerCase();h.useEffect(()=>{(async()=>{try{const e=await fetch(`/api/floor-sections/${n}`);if(!e.ok)return;const r=await e.json(),o=Array.isArray(r)?r:(r==null?void 0:r.sections)??[];o.sort((a,v)=>(a.displayOrder??0)-(v.displayOrder??0)),T(o)}catch{}})()},[n]);const X=h.useCallback(async()=>{try{const e=await fetch(`/api/floor-layouts/${n}/active`,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP ${e.status}`);const r=await e.json(),o=r&&r.id?r:(r==null?void 0:r.activeLayout)??null;if(!o){w([]),O(null),G(null),H(c("host.no_floor_plan","No active floor plan")),A(!1);return}w([o]),O(o.id),G(a=>a??o.id),H(null),A(!1),M&&((o.tables||[]).some(v=>String(v.id)===String(M))||S(null))}catch(e){H(c("host.err_load_map","Error loading floor map")+`: ${(e==null?void 0:e.message)??"unknown"}`),A(!1)}},[n,M]);h.useEffect(()=>{X();const e=setInterval(X,5e3);return()=>clearInterval(e)},[X]);const g=h.useMemo(()=>C?b.find(e=>e.id===C)??null:null,[b,C]),Z=h.useMemo(()=>g?Y?{...g,tables:(g.tables||[]).filter(e=>e.sectionId===Y)}:g:null,[g,Y]),x=h.useMemo(()=>!g||!M?null:(g.tables||[]).find(e=>String(e.id)===String(M))??null,[g,M]),u=h.useMemo(()=>{if(!g||!x)return null;const e=g.tableStatuses;if(!Array.isArray(e))return null;const r=e.find(o=>String(o.tableId)===String(x.id));return r||(e.find(o=>o.tableNumber===x.number)??null)},[g,x]),F=h.useMemo(()=>Ne(u==null?void 0:u.status),[u]),te=e=>{S(e)},Q=()=>S(null),R=async e=>{const r=x==null?void 0:x.id;if(r)try{const o=await fetch(`/api/tables/${n}/${r}/status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e})});if(!o.ok){const a=await o.text().catch(()=>"");throw new Error(a||`HTTP ${o.status}`)}await X()}catch(o){console.error("Failed to update table status:",o)}},ee=async()=>{await R("dirty")},re=async()=>{await R("empty")},ne=async()=>{await R("reserved")},ae=async()=>{await R("empty")},t=`floor-editor sb-floor-view ${i==="lobby"?"is-embed":""}`;return E?s.jsx("div",{className:t,children:s.jsx("div",{className:"sbv-loading",children:c("floor.loading","Loading floor plan...")})}):U||!g?s.jsx("div",{className:t,children:s.jsxs("div",{className:"sbv-error",children:[s.jsx("div",{className:"sbv-error-title",children:c("host.err_load_map","Cannot load floor map")}),s.jsx("div",{className:"sbv-error-sub",children:U??c("host.err_load_map","Error loading floor map")}),s.jsx("button",{className:"sbv-retry",onClick:X,children:c("common.btn_refresh","Retry")})]})}):s.jsx("div",{className:t,children:s.jsxs("div",{className:"sbv-shell",children:[s.jsxs("div",{className:"sbv-left",children:[s.jsxs("div",{className:"layout-tabs-bar sbv-view-topbar",children:[s.jsxs("div",{className:"sbv-topbar-left",children:[s.jsx("div",{className:"sbv-topbar-title",children:c("host.floor_map_title","Restaurant Map (Live)")}),s.jsx("div",{className:"sbv-topbar-sub",children:c("floor.hints.controls","Drag to pan, Ctrl+wheel to zoom")})]}),s.jsxs("div",{className:"sbv-legend","aria-label":"Legend",children:[s.jsxs("span",{className:"sbv-pill is-empty",children:[s.jsx("span",{className:"sbv-dot"})," ",J("empty")]}),s.jsxs("span",{className:"sbv-pill is-occupied",children:[s.jsx("span",{className:"sbv-dot"})," ",J("occupied")]}),s.jsxs("span",{className:"sbv-pill is-reserved",children:[s.jsx("span",{className:"sbv-dot"})," ",J("reserved")]}),s.jsxs("span",{className:"sbv-pill is-dirty",children:[s.jsx("span",{className:"sbv-dot"})," ",J("dirty")]})]}),L.length>1&&s.jsxs("div",{className:"sbv-section-tabs",role:"tablist","aria-label":c("floor.sections.title","Sections"),children:[s.jsx("button",{className:`sbv-section-tab ${Y===null?"is-active":""}`,onClick:()=>B(null),role:"tab","aria-selected":Y===null,children:c("common.all","All")}),L.map(e=>s.jsx("button",{className:`sbv-section-tab ${Y===e.id?"is-active":""}`,onClick:()=>B(e.id),role:"tab","aria-selected":Y===e.id,children:e.name},e.id))]})]}),s.jsx("div",{className:"editor-content sbv-editor-content",children:s.jsx(xe,{layout:Z,selectedTableId:M,onTableClick:te,mode:"view"})})]}),s.jsx("aside",{className:`sbv-right ${i==="lobby"&&M?"open":""}`,"aria-label":c("host.table_details","Table details"),children:M?s.jsxs("div",{className:"sbv-right-panel",role:"dialog","aria-modal":"false",children:[s.jsxs("div",{className:"sbv-drawer-header",children:[s.jsx("div",{className:"sbv-drawer-title",children:c("host.table_details","Table Details")}),s.jsx("button",{className:"sbv-close",onClick:Q,"aria-label":c("common.btn_close","Close"),children:"✕"})]}),s.jsxs("div",{className:"sbv-drawer-body",children:[s.jsxs("div",{className:"sbv-table-number",children:[c("host.table_label","Table")," ",(x==null?void 0:x.number)??"—"]}),s.jsxs("div",{className:`sbv-status-row is-${F}`,children:[s.jsx("span",{className:"sbv-status-dot"}),s.jsx("span",{className:"sbv-status-label",children:c("host.table_status_label","Table Status")}),s.jsx("span",{className:"sbv-status-value",children:J(F)})]}),s.jsxs("div",{className:"sbv-kv",children:[s.jsxs("div",{className:"sbv-kv-row",children:[s.jsx("div",{className:"sbv-kv-key",children:c("host.guest_name","Guest Name")}),s.jsx("div",{className:"sbv-kv-val",children:(u==null?void 0:u.guestName)??"—"})]}),s.jsxs("div",{className:"sbv-kv-row",children:[s.jsx("div",{className:"sbv-kv-key",children:c("host.num_guests","Guests")}),s.jsx("div",{className:"sbv-kv-val",children:(u==null?void 0:u.guestCount)!=null?String(u.guestCount):"—"})]}),s.jsxs("div",{className:"sbv-kv-row",children:[s.jsx("div",{className:"sbv-kv-key",children:c("host.reservation_time","Reservation Time")}),s.jsx("div",{className:"sbv-kv-val",children:(u==null?void 0:u.reservationTime)??"—"})]}),s.jsxs("div",{className:"sbv-kv-row",children:[s.jsx("div",{className:"sbv-kv-key",children:c("pos.waiter.items_label","Items")}),s.jsx("div",{className:"sbv-kv-val",children:(u==null?void 0:u.itemsCount)??"—"})]}),s.jsxs("div",{className:"sbv-kv-row",children:[s.jsx("div",{className:"sbv-kv-key",children:c("pos.waiter.subtotal","Subtotal")}),s.jsx("div",{className:"sbv-kv-val",children:(u==null?void 0:u.subtotal)??"—"})]})]})]}),s.jsxs("div",{className:"sbv-drawer-footer",children:[q==="lobby"||q==="waiter"?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"sbv-secondary-btn",onClick:ee,disabled:F==="dirty",children:c("floor.mark_dirty","Mark Dirty")}),s.jsx("button",{className:"sbv-success-btn",onClick:re,disabled:F!=="dirty",children:c("floor.mark_clean","Mark Clean")})]}):null,q==="host"?s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"sbv-primary-btn",onClick:ne,disabled:F==="reserved",children:c("floor.mark_reserved","Mark Reserved")}),s.jsx("button",{className:"sbv-secondary-btn",onClick:ae,disabled:F==="empty",children:c("floor.mark_empty","Mark Empty")})]}):null,F==="occupied"&&(u!=null&&u.orderId)&&(x!=null&&x.number)?s.jsx("a",{className:"sbv-primary-btn",href:`/waiter/${n}/${x.number}`,children:c("pos.waiter.btn_open_order","Open Order")}):null,s.jsx("button",{className:"sbv-secondary-btn",onClick:Q,children:c("common.btn_close","Close")})]})]}):s.jsxs("div",{className:"sbv-right-empty",children:[s.jsx("div",{className:"sbv-right-empty-title",children:c("host.table_details","Table Details")}),s.jsx("div",{className:"sbv-right-empty-sub",children:c("host.floor_map_help","Select a table on the map to view details.")})]})})]})})}const W=document.getElementById("sb-floor-root");if(!W)throw new Error("Missing #sb-floor-root");const ce=W.getAttribute("data-rid")||W.getAttribute("data-restaurant-id")||"",oe=W.getAttribute("data-click-mode")||W.getAttribute("data-mode")||"page",de=oe==="lobby"||oe==="host"?"lobby":"page";console.info("[FloorView] mount",{rid:ce,mountMode:de,clickMode:oe});ve.createRoot(W).render(s.jsx(h.StrictMode,{children:s.jsx(je,{restaurantId:ce,mountMode:de})}));
