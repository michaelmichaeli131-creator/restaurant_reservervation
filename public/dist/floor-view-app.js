import{r as j,j as t,R as g,t as d,c as de}from"./floor-index.js";const p="/floor_assets/",oe=(n,i=1)=>{const b=Number(n);return Number.isFinite(b)?Math.max(.5,Math.min(1.6,b)):i},ie=n=>{const i=Number(n);return Number.isFinite(i)?Math.round(i/45)*45:0},ue=n=>{if(!n||n.startsWith("#"))return"parquet_blue";const i=n;return i==="parquet_blue"||i==="parquet_brown"||i==="slate_dark"||i==="navy_carpet"||i==="teal_terrazzo"?i:"parquet_blue"};function me(n){return{parquet_blue:{bg:`url(${p}floor_parquet_blue.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"},parquet_brown:{bg:`url(${p}floor_parquet_brown.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"},slate_dark:{bg:`url(${p}floor_slate_dark.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"},navy_carpet:{bg:`url(${p}floor_navy_carpet.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"},teal_terrazzo:{bg:`url(${p}floor_teal_terrazzo.svg)`,size:"240px 240px",repeat:"repeat",pos:"center"}}[n]}function be(n,i){const b=String(n||"square").toLowerCase(),w=Number(i||0);return b==="round"?`${p}${w>=9?"round_table_10.svg":"round_table4.svg"}`:b==="booth"?`${p}${w>=6?"large_booth.svg":"booth4.svg"}`:b==="rect"?`${p}${w>=10?"square_table10.svg":w>=6?"square_table6.svg":w>=4?"square_table4.svg":"square_table2.svg"}`:`${p}${w>=10?"square_table10.svg":w>=6?"square_table6.svg":w>=4?"square_table4.svg":"square_table2.svg"}`}function ve(n,i){const b=String(n||"").toLowerCase();return b==="door"?`${p}door.svg`:b==="wall"?`${p}wall.svg`:b==="divider"?`${p}divider.svg`:b==="chair"?`${p}chair.svg`:b==="bar"?`${p}bar.svg`:b==="plant"?`${p}plant.svg`:i?`${p}${i}.svg`:`${p}divider.svg`}function pe({layout:n,mode:i,onTableClick:b,selectedTableId:w}){const T=j.useRef(null),K=j.useRef(null),[Y,U]=j.useState(1),[D,I]=j.useState({x:0,y:0}),[Z,H]=j.useState(!1),[_,C]=j.useState(!1),S=j.useRef(null),X=60,F=j.useMemo(()=>ue(n.floorColor),[n==null?void 0:n.id]),O=j.useMemo(()=>me(F),[F]),P=j.useMemo(()=>{const s=Math.max(0,Number(n.gridRows??0)),e=Math.max(0,Number(n.gridCols??0)),r=(m,c,v)=>Math.max(c,Math.min(v,m));let o=0,a=0,h=Math.max(0,e-1),l=Math.max(0,s-1);const y=n.gridMask;if(Array.isArray(y)&&s>0&&e>0&&y.length===s*e){let m=!1,c=1/0,v=1/0,k=-1/0,$=-1/0;for(let f=0;f<s;f++)for(let A=0;A<e;A++)y[f*e+A]&&(m=!0,c=Math.min(c,A),v=Math.min(v,f),k=Math.max(k,A),$=Math.max($,f));m&&(o=c,a=v,h=k,l=$)}const M=(m,c,v,k)=>{if(s<=0||e<=0)return;const $=r(Number(m??0),0,Math.max(0,e-1)),f=r(Number(c??0),0,Math.max(0,s-1)),A=r(Number(v??1),1,e),Q=r(Number(k??1),1,s);o=Math.min(o,$),a=Math.min(a,f),h=Math.max(h,$+A-1),l=Math.max(l,f+Q-1)},q=Array.isArray(n.tables)?n.tables:[],L=Array.isArray(n.objects)?n.objects:[];for(const m of q)M(m.x,m.y,m.spanX,m.spanY);for(const m of L)M(m.x,m.y,m.spanX,m.spanY);return{minX:o,minY:a,maxX:h,maxY:l,rows:s,cols:e}},[n==null?void 0:n.id]);j.useEffect(()=>{const s=r=>{r.code==="Space"&&H(!0)},e=r=>{r.code==="Space"&&(H(!1),C(!1))};return window.addEventListener("keydown",s),window.addEventListener("keyup",e),()=>{window.removeEventListener("keydown",s),window.removeEventListener("keyup",e)}},[]);const B=s=>Math.max(i==="view"?.01:.4,Math.min(2.5,s)),R=()=>{if(!T.current||!K.current)return;const s=T.current,e=getComputedStyle(s),r=parseFloat(e.paddingLeft||"0")||0,o=parseFloat(e.paddingRight||"0")||0,a=parseFloat(e.paddingTop||"0")||0,h=parseFloat(e.paddingBottom||"0")||0,l=24,y=Math.max(1,s.clientWidth-r-o-l*2),M=Math.max(1,s.clientHeight-a-h-l*2),{minX:q,minY:L,maxX:m,maxY:c}=P,v=Math.max(1,(m-q+1)*X),k=Math.max(1,(c-L+1)*X),$=i==="view"?1:1.2,f=B(Math.min(y/v,M/k,$));U(f);const A=Math.round(r+l+(y-v*f)/2-q*X*f),Q=Math.round(a+l+(M-k*f)/2-L*X*f);I({x:A,y:Q})};j.useEffect(()=>{requestAnimationFrame(R)},[n==null?void 0:n.id]),j.useEffect(()=>{if(!T.current)return;let s=0;const e=new ResizeObserver(()=>{cancelAnimationFrame(s),s=requestAnimationFrame(R)});return e.observe(T.current),()=>{cancelAnimationFrame(s),e.disconnect()}},[n==null?void 0:n.id]);const x=(s,e,r)=>{if(!T.current)return;const o=T.current.getBoundingClientRect(),a=e-o.left,h=r-o.top;I(l=>{const y=s/Y;return{x:Math.round(a-(a-l.x)*y),y:Math.round(h-(h-l.y)*y)}}),U(s)},ee=s=>{if(!(s.ctrlKey||s.metaKey))return;s.preventDefault();const e=B(Y*(s.deltaY>0?.9:1.1));x(e,s.clientX,s.clientY)},N=s=>{const e=s.target;if(i==="view"){if(s.button!==0||e!=null&&e.closest(".fe-canvas-controls, button, a, input, textarea, select"))return;s.preventDefault(),S.current={moved:!1};const M={x:s.clientX,y:s.clientY},q={...D};let L=!1;const m=v=>{const k=v.clientX-M.x,$=v.clientY-M.y,f=Math.abs(k)+Math.abs($);!L&&f>4&&(L=!0,S.current&&(S.current.moved=!0),C(!0)),L&&I({x:q.x+k,y:q.y+$})},c=()=>{L&&C(!1),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",c),S.current&&!S.current.moved&&(S.current=null)};window.addEventListener("mousemove",m),window.addEventListener("mouseup",c);return}const r=s.button===1,o=Z&&s.button===0;if(!r&&!o)return;s.preventDefault(),C(!0);const a={x:s.clientX,y:s.clientY},h={...D},l=M=>{I({x:h.x+(M.clientX-a.x),y:h.y+(M.clientY-a.y)})},y=()=>{C(!1),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",y)};window.addEventListener("mousemove",l),window.addEventListener("mouseup",y)},u=j.useRef(null),z=s=>{if(i!=="view"||s.touches.length!==1)return;const e=s.touches[0],r=s.target;r!=null&&r.closest(".table, .floor-object, .fe-canvas-controls, button, a, input, textarea, select")||(s.preventDefault(),C(!0),u.current={startX:e.clientX,startY:e.clientY,panX:D.x,panY:D.y,active:!0})},te=s=>{if(i!=="view")return;const e=u.current;if(!e||!e.active||s.touches.length!==1)return;const r=s.touches[0];s.preventDefault(),I({x:e.panX+(r.clientX-e.startX),y:e.panY+(r.clientY-e.startY)})},V=()=>{i==="view"&&(u.current=null,C(!1))},E=s=>Math.max(1,Number(s)||1)*X,J=s=>{const e=(s||"").toLowerCase();return e.includes("occup")||e==="busy"||e==="taken"?"occupied":e.includes("reserv")||e.includes("book")?"reserved":e.includes("dirty")||e.includes("need")||e.includes("clean")?"dirty":"empty"},se=j.useMemo(()=>{const s=new Map;return(Array.isArray(n.tableStatuses)?n.tableStatuses:[]).forEach(e=>{const r=e&&e.tableId?String(e.tableId):"";r&&s.set(r,{status:J(String(e.status||"empty")),guestName:e.guestName??null,guestCount:e.guestCount??null,orderId:e.orderId??null})}),s},[n]),ne=j.useMemo(()=>{const s=new Map;return(Array.isArray(n.tableStatuses)?n.tableStatuses:[]).forEach(e=>{const r=Number(e&&(e.tableNumber??0));!Number.isFinite(r)||r<=0||s.set(r,{status:J(String(e.status||"empty")),guestName:e.guestName??null,guestCount:e.guestCount??null,orderId:e.orderId??null})}),s},[n]),re=s=>{const e=s.id?se.get(String(s.id)):void 0;if(e)return e;const r=Number(s.tableNumber??0);if(Number.isFinite(r)&&r>0){const o=ne.get(r);if(o)return o}return{status:"empty"}};return t.jsxs("div",{className:`editor-canvas ${_?"is-panning":""}`,ref:T,onWheel:ee,onMouseDown:N,onTouchStart:z,onTouchMove:te,onTouchEnd:V,style:{position:"relative"},children:[t.jsxs("div",{className:"fe-canvas-controls",children:[t.jsx("button",{className:"btn-icon-small",onClick:()=>{var e;const s=(e=T.current)==null?void 0:e.getBoundingClientRect();x(B(Y*1.1),((s==null?void 0:s.left)||0)+40,((s==null?void 0:s.top)||0)+40)},title:"Zoom in",children:"＋"}),t.jsx("button",{className:"btn-icon-small",onClick:()=>{var e;const s=(e=T.current)==null?void 0:e.getBoundingClientRect();x(B(Y*.9),((s==null?void 0:s.left)||0)+40,((s==null?void 0:s.top)||0)+40)},title:"Zoom out",children:"－"}),t.jsx("button",{className:"btn-icon-small",onClick:R,title:"Fit to screen",children:"⤢"}),t.jsxs("div",{className:"fe-zoom-readout",children:[Math.round(Y*100),"%"]}),t.jsx("div",{className:"fe-hint",children:Z?"Pan: drag":"Tip: hold Space to pan, Ctrl+wheel to zoom"})]}),t.jsx("div",{className:"fe-grid",ref:K,onClickCapture:s=>{var e;i==="view"&&(e=S.current)!=null&&e.moved&&(s.preventDefault(),s.stopPropagation(),S.current=null)},style:{direction:"ltr",gridTemplateColumns:`repeat(${n.gridCols}, ${X}px)`,gridTemplateRows:`repeat(${n.gridRows}, ${X}px)`,transform:`translate(${D.x}px, ${D.y}px) scale(${Y})`,transformOrigin:"0 0","--cell":`${X}px`,"--floor-bg":O.bg,"--floor-bg-size":O.size,"--floor-bg-repeat":O.repeat,"--floor-bg-position":O.pos},children:Array.from({length:n.gridRows*n.gridCols}).map((s,e)=>{var m;const r=Math.floor(e/n.gridCols),o=e%n.gridCols,a=n.tables.find(c=>o>=c.gridX&&o<c.gridX+(c.spanX||1)&&r>=c.gridY&&r<c.gridY+(c.spanY||1)),l=(n.objects??[]).find(c=>o>=c.gridX&&o<c.gridX+(c.spanX||1)&&r>=c.gridY&&r<c.gridY+(c.spanY||1)),y=!!a&&a.gridX===o&&a.gridY===r,M=!!l&&l.gridX===o&&l.gridY===r,q=r*n.gridCols+o,L=(((m=n.gridMask)==null?void 0:m[q])??1)===1;return t.jsxs("div",{className:`fe-grid-cell ${L?"active":"inactive"}`,children:[M&&l&&t.jsxs("div",{className:`floor-object type-${l.type}`,style:{width:`${E(l.spanX)}px`,height:`${E(l.spanY)}px`,transform:`rotate(${ie(l.rotationDeg??l.rotation??0)}deg)`,cursor:i==="view"?"default":"grab"},children:[t.jsx("img",{className:`fe-asset fe-asset--${(l.assetFile||"").replace(/[^a-z0-9]+/gi,"_").toLowerCase()}`,style:{transform:`scale(${oe(l.scale,1)})`},src:l.assetFile?`${p}${l.assetFile}`:ve(l.type,l.label),alt:""}),l.label&&t.jsx("div",{className:"obj-label",children:l.label})]}),y&&a&&(()=>{const c=re(a),v=String(c.status||"empty"),k=w&&String(w)===String(a.id),$=i==="view",f=v==="occupied"?"תפוס":v==="reserved"?"שמור":v==="dirty"?"מלוכלך":"פנוי",A=c.guestCount!=null&&c.guestCount!==""?` · ${c.guestCount}`:"";return t.jsxs("div",{className:`table floor-table status-${v} ${String(a.shape||"square")} ${k?"is-selected":""}`,onClick:()=>b==null?void 0:b(a.id),style:{position:"absolute",top:0,left:0,width:`${E(a.spanX)}px`,height:`${E(a.spanY)}px`,cursor:i==="view"?"pointer":"default"},children:[t.jsx("div",{className:"fe-table-visual","data-asset":a.assetFile||"",children:t.jsx("img",{className:`fe-asset fe-asset--${(a.assetFile||"").replace(/[^a-z0-9]+/gi,"_").toLowerCase()}`,style:{transform:`rotate(${ie(a.rotationDeg??a.rotation??0)}deg) scale(${oe(a.scale,1)})`},src:a.assetFile?`${p}${a.assetFile}`:be(a.shape,a.seats),alt:""})}),t.jsxs("div",{className:"fe-table-overlay",children:[t.jsx("div",{className:"table-label",children:a.name||(a.tableNumber!=null?`Table ${a.tableNumber}`:"Table")}),a.seats!=null&&t.jsxs("div",{className:"table-seats",children:[a.seats," seats"]})]}),$&&t.jsxs("div",{className:`sbv-status-pill is-${v}`,children:[t.jsx("span",{className:"sbv-dot"}),t.jsxs("span",{className:"sbv-status-text",children:[f,A]})]})]})})()]},e)})})]})}function fe(n){const i=(n||"").toLowerCase();return i==="occupied"||i==="busy"||i==="taken"?"occupied":i==="reserved"||i==="booked"?"reserved":i==="dirty"||i==="needs_cleaning"?"dirty":"empty"}function G(n){return d(`floor.status.${n}`,n)}function he({restaurantId:n,mountMode:i="page"}){const[b,w]=g.useState([]),[T,K]=g.useState(null),[Y,U]=g.useState(null),[D,I]=g.useState(!0),[Z,H]=g.useState(null),[_,C]=g.useState(null),[S,X]=g.useState([]),[F,O]=g.useState(null),P=typeof document<"u"?document.getElementById("sb-floor-root"):null,B=String((P==null?void 0:P.getAttribute("data-click-mode"))||(P==null?void 0:P.getAttribute("data-mode"))||(i==="lobby"?"lobby":"page")).toLowerCase();g.useEffect(()=>{(async()=>{try{const e=await fetch(`/api/floor-sections/${n}`);if(!e.ok)return;const r=await e.json(),o=Array.isArray(r)?r:(r==null?void 0:r.sections)??[];o.sort((a,h)=>(a.displayOrder??0)-(h.displayOrder??0)),X(o)}catch{}})()},[n]);const R=g.useCallback(async()=>{try{const e=await fetch(`/api/floor-layouts/${n}/active`,{headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP ${e.status}`);const r=await e.json(),o=r&&r.id?r:(r==null?void 0:r.activeLayout)??null;if(!o){w([]),K(null),U(null),H(d("host.no_floor_plan","No active floor plan")),I(!1);return}w([o]),K(o.id),U(a=>a??o.id),H(null),I(!1),_&&((o.tables||[]).some(h=>String(h.id)===String(_))||C(null))}catch(e){H(d("host.err_load_map","Error loading floor map")+`: ${(e==null?void 0:e.message)??"unknown"}`),I(!1)}},[n,_]);g.useEffect(()=>{R();const e=setInterval(R,5e3);return()=>clearInterval(e)},[R]);const x=g.useMemo(()=>Y?b.find(e=>e.id===Y)??null:null,[b,Y]),ee=g.useMemo(()=>x?F?{...x,tables:(x.tables||[]).filter(e=>e.sectionId===F)}:x:null,[x,F]),N=g.useMemo(()=>!x||!_?null:(x.tables||[]).find(e=>String(e.id)===String(_))??null,[x,_]),u=g.useMemo(()=>{if(!x||!N)return null;const e=x.tableStatuses;if(!Array.isArray(e))return null;const r=e.find(o=>String(o.tableId)===String(N.id));return r||(e.find(o=>o.tableNumber===N.number)??null)},[x,N]),z=g.useMemo(()=>fe(u==null?void 0:u.status),[u]),te=e=>{C(e)},V=()=>C(null),E=async e=>{const r=N==null?void 0:N.id;if(r)try{const o=await fetch(`/api/tables/${n}/${r}/status`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:e})});if(!o.ok){const a=await o.text().catch(()=>"");throw new Error(a||`HTTP ${o.status}`)}await R()}catch(o){console.error("Failed to update table status:",o)}},J=async()=>{await E("dirty")},se=async()=>{await E("empty")},ne=async()=>{await E("reserved")},re=async()=>{await E("empty")},s=`floor-editor sb-floor-view ${i==="lobby"?"is-embed":""}`;return D?t.jsx("div",{className:s,children:t.jsx("div",{className:"sbv-loading",children:d("floor.loading","Loading floor plan...")})}):Z||!x?t.jsx("div",{className:s,children:t.jsxs("div",{className:"sbv-error",children:[t.jsx("div",{className:"sbv-error-title",children:d("host.err_load_map","Cannot load floor map")}),t.jsx("div",{className:"sbv-error-sub",children:Z??d("host.err_load_map","Error loading floor map")}),t.jsx("button",{className:"sbv-retry",onClick:R,children:d("common.btn_refresh","Retry")})]})}):t.jsx("div",{className:s,children:t.jsxs("div",{className:"sbv-shell",children:[t.jsxs("div",{className:"sbv-left",children:[t.jsxs("div",{className:"layout-tabs-bar sbv-view-topbar",children:[t.jsxs("div",{className:"sbv-topbar-left",children:[t.jsx("div",{className:"sbv-topbar-title",children:d("host.floor_map_title","Restaurant Map (Live)")}),t.jsx("div",{className:"sbv-topbar-sub",children:d("floor.hints.controls","Drag to pan, Ctrl+wheel to zoom")})]}),t.jsxs("div",{className:"sbv-legend","aria-label":"Legend",children:[t.jsxs("span",{className:"sbv-pill is-empty",children:[t.jsx("span",{className:"sbv-dot"})," ",G("empty")]}),t.jsxs("span",{className:"sbv-pill is-occupied",children:[t.jsx("span",{className:"sbv-dot"})," ",G("occupied")]}),t.jsxs("span",{className:"sbv-pill is-reserved",children:[t.jsx("span",{className:"sbv-dot"})," ",G("reserved")]}),t.jsxs("span",{className:"sbv-pill is-dirty",children:[t.jsx("span",{className:"sbv-dot"})," ",G("dirty")]})]}),S.length>1&&t.jsxs("div",{className:"sbv-section-tabs",role:"tablist","aria-label":d("floor.sections.title","Sections"),children:[t.jsx("button",{className:`sbv-section-tab ${F===null?"is-active":""}`,onClick:()=>O(null),role:"tab","aria-selected":F===null,children:d("common.all","All")}),S.map(e=>t.jsx("button",{className:`sbv-section-tab ${F===e.id?"is-active":""}`,onClick:()=>O(e.id),role:"tab","aria-selected":F===e.id,children:e.name},e.id))]})]}),t.jsx("div",{className:"editor-content sbv-editor-content",children:t.jsx(pe,{layout:ee,selectedTableId:_,onTableClick:te,mode:"view"})})]}),t.jsx("aside",{className:`sbv-right ${i==="lobby"&&_?"open":""}`,"aria-label":d("host.table_details","Table details"),children:_?t.jsxs("div",{className:"sbv-right-panel",role:"dialog","aria-modal":"false",children:[t.jsxs("div",{className:"sbv-drawer-header",children:[t.jsx("div",{className:"sbv-drawer-title",children:d("host.table_details","Table Details")}),t.jsx("button",{className:"sbv-close",onClick:V,"aria-label":d("common.btn_close","Close"),children:"✕"})]}),t.jsxs("div",{className:"sbv-drawer-body",children:[t.jsxs("div",{className:"sbv-table-number",children:[d("host.table_label","Table")," ",(N==null?void 0:N.number)??"—"]}),t.jsxs("div",{className:`sbv-status-row is-${z}`,children:[t.jsx("span",{className:"sbv-status-dot"}),t.jsx("span",{className:"sbv-status-label",children:d("host.table_status_label","Table Status")}),t.jsx("span",{className:"sbv-status-value",children:G(z)})]}),t.jsxs("div",{className:"sbv-kv",children:[t.jsxs("div",{className:"sbv-kv-row",children:[t.jsx("div",{className:"sbv-kv-key",children:d("host.guest_name","Guest Name")}),t.jsx("div",{className:"sbv-kv-val",children:(u==null?void 0:u.guestName)??"—"})]}),t.jsxs("div",{className:"sbv-kv-row",children:[t.jsx("div",{className:"sbv-kv-key",children:d("host.num_guests","Guests")}),t.jsx("div",{className:"sbv-kv-val",children:(u==null?void 0:u.guestCount)!=null?String(u.guestCount):"—"})]}),t.jsxs("div",{className:"sbv-kv-row",children:[t.jsx("div",{className:"sbv-kv-key",children:d("host.reservation_time","Reservation Time")}),t.jsx("div",{className:"sbv-kv-val",children:(u==null?void 0:u.reservationTime)??"—"})]}),t.jsxs("div",{className:"sbv-kv-row",children:[t.jsx("div",{className:"sbv-kv-key",children:d("pos.waiter.items_label","Items")}),t.jsx("div",{className:"sbv-kv-val",children:(u==null?void 0:u.itemsCount)??"—"})]}),t.jsxs("div",{className:"sbv-kv-row",children:[t.jsx("div",{className:"sbv-kv-key",children:d("pos.waiter.subtotal","Subtotal")}),t.jsx("div",{className:"sbv-kv-val",children:(u==null?void 0:u.subtotal)??"—"})]})]})]}),t.jsxs("div",{className:"sbv-drawer-footer",children:[B==="lobby"||B==="waiter"?t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"sbv-secondary-btn",onClick:J,disabled:z==="dirty",children:d("floor.mark_dirty","Mark Dirty")}),t.jsx("button",{className:"sbv-success-btn",onClick:se,disabled:z!=="dirty",children:d("floor.mark_clean","Mark Clean")})]}):null,B==="host"?t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"sbv-primary-btn",onClick:ne,disabled:z==="reserved",children:d("floor.mark_reserved","Mark Reserved")}),t.jsx("button",{className:"sbv-secondary-btn",onClick:re,disabled:z==="empty",children:d("floor.mark_empty","Mark Empty")})]}):null,z==="occupied"&&(u!=null&&u.orderId)&&(N!=null&&N.number)?t.jsx("a",{className:"sbv-primary-btn",href:`/waiter/${n}/${N.number}`,children:d("pos.waiter.btn_open_order","Open Order")}):null,t.jsx("button",{className:"sbv-secondary-btn",onClick:V,children:d("common.btn_close","Close")})]})]}):t.jsxs("div",{className:"sbv-right-empty",children:[t.jsx("div",{className:"sbv-right-empty-title",children:d("host.table_details","Table Details")}),t.jsx("div",{className:"sbv-right-empty-sub",children:d("host.floor_map_help","Select a table on the map to view details.")})]})})]})})}const W=document.getElementById("sb-floor-root");if(!W)throw new Error("Missing #sb-floor-root");const le=W.getAttribute("data-rid")||W.getAttribute("data-restaurant-id")||"",ae=W.getAttribute("data-click-mode")||W.getAttribute("data-mode")||"page",ce=ae==="lobby"||ae==="host"?"lobby":"page";console.info("[FloorView] mount",{rid:le,mountMode:ce,clickMode:ae});de.createRoot(W).render(t.jsx(g.StrictMode,{children:t.jsx(he,{restaurantId:le,mountMode:ce})}));
