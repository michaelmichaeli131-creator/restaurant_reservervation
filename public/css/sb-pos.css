/* SpotBook POS / Waiter / Host screens
   Design goals:
   - Matches dark luxury blue theme of the site
   - Touch-friendly (mobile/tablet)
   - Clear statuses without neon blocks
*/

:root{
  --pos-cell: clamp(40px, 8vw, 56px);
  --pos-gap: 10px;

  --pos-accent-empty: rgba(59,130,246,.95);
  --pos-accent-occupied: rgba(239,68,68,.95);
  --pos-accent-reserved: rgba(245,158,11,.95);
  --pos-accent-dirty: rgba(168,85,247,.95);
}

/* ===== Page header ===== */
.pos-header .sb-page-actions{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
.pos-header .sb-page-title .muted{ line-height: 1.4; }

/* Compact actions on narrow phones */
@media (max-width: 420px){
  .pos-header .btn{ padding:8px 12px; }
}

/* ===== Legend chips ===== */
.sb-legend{ display:flex; gap:8px; flex-wrap:wrap; }
.sb-chip{
  display:inline-flex;
  align-items:center;
  gap:8px;
  border-radius:999px;
  padding:7px 10px;
  border:1px solid rgba(255,255,255,.12);
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  font-size:12px;
  color: rgba(230,232,239,.95);
  user-select:none;
}
.sb-chip .dot{ width:10px; height:10px; border-radius:999px; box-shadow: 0 0 0 3px rgba(255,255,255,.06) inset; }
.sb-chip.status-empty .dot{ background: var(--pos-accent-empty); }
.sb-chip.status-occupied .dot{ background: var(--pos-accent-occupied); }
.sb-chip.status-reserved .dot{ background: var(--pos-accent-reserved); }
.sb-chip.status-dirty .dot{ background: var(--pos-accent-dirty); }

/* ===== Floor / map ===== */
.pos-floor-card{ padding: 14px; }
.sb-floor-root{
  display:flex;
  justify-content:center;
  align-items:flex-start;
}

.floor-grid{
  --rows: 8;
  --cols: 10;
  display:grid;
  grid-template-rows: repeat(var(--rows), var(--pos-cell));
  grid-template-columns: repeat(var(--cols), var(--pos-cell));
  gap: var(--pos-gap);

  padding: 12px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(900px 320px at 20% 0%, rgba(59,130,246,.10), transparent 60%),
    radial-gradient(650px 240px at 100% 60%, rgba(99,102,241,.08), transparent 55%),
    rgba(255,255,255,.03);
  box-shadow: 0 12px 36px rgba(0,0,0,.35);

  /* Allow map to be usable on smaller screens */
  max-width: 100%;
}

/* Map scrolling on small devices */
.sb-floor-root{ overflow:auto; width:100%; }
.sb-floor-root::-webkit-scrollbar{ height:10px; width:10px; }
.sb-floor-root::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.10); border-radius:999px; }

.table{
  position:relative;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.12);
  background:
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  color: rgba(230,232,239,.98);

  display:flex;
  align-items:center;
  justify-content:center;

  font-weight: 800;
  letter-spacing: .2px;
  cursor:pointer;
  user-select:none;

  min-height: 44px; /* touch */
  transition: transform .12s ease, box-shadow .16s ease, border-color .16s ease;
}

.table::before{
  content:"";
  position:absolute;
  top:10px;
  inset-inline-start:10px;
  width:10px;
  height:10px;
  border-radius:999px;
  background: rgba(148,163,184,.45);
  box-shadow: 0 0 0 3px rgba(0,0,0,.22);
}

.table.empty::before{ background: var(--pos-accent-empty); }
.table.occupied::before{ background: var(--pos-accent-occupied); }
.table.reserved::before{ background: var(--pos-accent-reserved); }
.table.dirty::before{ background: var(--pos-accent-dirty); }

.table:hover{
  transform: translateY(-1px);
  box-shadow: 0 16px 42px rgba(0,0,0,.35);
  border-color: rgba(59,130,246,.28);
}
.table:active{ transform: translateY(0) scale(.98); }

/* Optional: make occupied tables feel "heavier" */
.table.occupied{
  border-color: rgba(239,68,68,.26);
  background: linear-gradient(180deg, rgba(239,68,68,.10), rgba(255,255,255,.02));
}
.table.reserved{
  border-color: rgba(245,158,11,.22);
  background: linear-gradient(180deg, rgba(245,158,11,.10), rgba(255,255,255,.02));
}
.table.dirty{
  border-color: rgba(168,85,247,.22);
  background: linear-gradient(180deg, rgba(168,85,247,.10), rgba(255,255,255,.02));
}

/* ===== Waiter lobby ===== */
.waiter-grid{
  display:grid;
  grid-template-columns: minmax(280px, 0.95fr) minmax(360px, 1.05fr);
  gap: 16px;
}

.open-tables-list{ margin-top: 10px; }
.open-item{ padding: 10px 0; border-top: 1px solid rgba(255,255,255,.06); }
.open-item:first-child{ border-top:none; padding-top:0; }

.open-row{ display:flex; align-items:stretch; justify-content:space-between; gap:10px; }

.open-table-btn{
  flex:1;
  text-align:right;
  background: rgba(255,255,255,.02);
  border:1px solid rgba(255,255,255,.10);
  border-radius: 14px;
  padding: 10px 12px;
  cursor:pointer;
  color:inherit;
  display:flex;
  flex-direction:column;
  gap:4px;
  transition: transform .12s ease, border-color .16s ease, background .16s ease;
}
.open-table-btn:hover{ transform: translateY(-1px); border-color: rgba(59,130,246,.25); background: rgba(59,130,246,.06); }

.open-main{ display:flex; gap:8px; align-items:center; font-size:14px; font-weight:800; }
.open-guest-name{ color: rgba(147,197,253,.95); }
.open-sub{ font-size:12px; color: rgba(154,163,178,.95); display:flex; flex-wrap:wrap; gap:8px; }

/* Ensure visited links never leak into button-like UI */
.open-pos-link, .open-pos-link:visited{ color:inherit; }

.floor-wrapper{
  margin-top: 10px;
  min-height: 260px;
  display:flex;
  align-items:flex-start;
  justify-content:center;
}

/* Side panel -> bottom sheet on mobile */
.table-info-backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.35);
  opacity: 0;
  pointer-events: none;
  transition: opacity .18s ease;
  z-index: 40;
}
.table-info-backdrop.open{ opacity:1; pointer-events:auto; }

.table-info-panel{
  position: fixed;
  top: 0;
  right: 0;
  height: 100dvh;
  width: min(360px, 92vw);
  transform: translateX(100%);
  transition: transform .22s ease-out;
  z-index: 41;
  display:flex;
}
.table-info-panel.open{ transform: translateX(0); }

.table-info-inner{
  background: rgba(8,12,24,0.98);
  border-left: 1px solid rgba(148,163,184,0.35);
  box-shadow: -18px 0 40px rgba(0,0,0,0.6);
  width: 100%;
  padding: 14px 16px 16px;
  display:flex;
  flex-direction:column;
  gap:10px;
}

@media (max-width: 900px){
  .waiter-grid{ grid-template-columns: 1fr; }
}

@media (max-width: 640px){
  .pos-floor-card{ padding: 12px; }
  .floor-grid{ padding: 10px; gap: 8px; }

  .table-info-panel{
    top: auto;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: auto;
    transform: translateY(110%);
    border-radius: 18px 18px 0 0;
  }
  .table-info-panel.open{ transform: translateY(0); }
  .table-info-inner{
    border-left: none;
    border-top: 1px solid rgba(148,163,184,0.35);
    border-radius: 18px 18px 0 0;
    box-shadow: 0 -18px 40px rgba(0,0,0,0.6);
  }
}

/* ===== POS waiter order screen ===== */
.waiter-layout{
  display:grid;
  grid-template-columns: minmax(280px, 0.9fr) minmax(360px, 1.1fr);
  gap: 16px;
}

.menu-panel .muted{ margin-top: 4px; }

.menu-section{ margin-top: 14px; }
.menu-section-title{ margin: 0 0 10px; font-size: 14px; color: rgba(230,232,239,.92); }

.menu-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 10px;
}

.menu-item-card{
  text-align:right;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  padding: 12px;
  cursor:pointer;
  color:inherit;
  transition: transform .12s ease, border-color .16s ease, box-shadow .16s ease;
}
.menu-item-card:hover{ transform: translateY(-1px); border-color: rgba(59,130,246,.25); box-shadow: 0 16px 40px rgba(0,0,0,.35); }
.menu-item-name{ font-weight: 800; font-size: 13px; }
.menu-item-desc{ font-size: 12px; margin-top: 4px; }
.menu-item-footer{ display:flex; justify-content:space-between; gap:10px; margin-top: 10px; font-size: 12px; }
.menu-item-footer .price{ color: rgba(191,219,254,.95); font-weight: 800; }
.menu-item-footer .dest{ color: rgba(154,163,178,.95); }

.bill-summary{
  display:inline-flex;
  gap:10px;
  align-items:center;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.04);
}

@media (max-width: 1024px){
  .waiter-layout{ grid-template-columns: 1fr; }
  .menu-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
@media (max-width: 420px){
  .menu-grid{ grid-template-columns: 1fr; }
}

