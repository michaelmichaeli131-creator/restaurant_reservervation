/* /public/css/owner_calendar.css — SpotBook Luxury Dark (Ultra-Compact, Left Aligned) */

:root{
  --bg:#0b1120;
  --card:#111827;
  --ink:#e5e7eb;
  --muted:#9aa3b2;
  --bd:#1f2937;

  --brand:#3b82f6;
  --ok:#10b981;
  --warn:#f59e0b;
  --danger:#ef4444;

  --radius:16px;
  --radius-sm:12px;

  --shadow-sm:0 4px 14px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.03);
  --shadow-md:0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.03);
  --shadow-lg:0 20px 60px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.02);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--ink);
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
}

/* ===== Header ===== */
.oc-header{
  background:linear-gradient(180deg,rgba(17,24,39,.92),rgba(17,24,39,.66));
  border-bottom:1px solid var(--bd);
  box-shadow:var(--shadow-sm);
}
.oc-header .wrap{
  max-width:1100px;margin:0 auto;padding:12px 16px;
  display:flex;align-items:center;gap:12px;flex-wrap:wrap;
}
.oc-title{
  font-weight:800;font-size:1.05rem;padding:8px 12px;border-radius:10px;
  background:#0f172a;border:1px solid var(--bd);color:var(--ink);
}

/* Search */
.oc-search{position:relative;display:flex;align-items:center;gap:8px;}
.oc-search input[type="search"]{
  width:260px;max-width:60vw;
  padding:8px 10px;border:1px solid var(--bd);border-radius:10px;
  background:#0b1327;outline:none;color:var(--ink);
  transition:box-shadow .15s ease,border-color .15s ease,background .15s ease;
}
.oc-search input[type="search"]::placeholder{color:#7b8796}
.oc-search input[type="search"]:focus{
  border-color:color-mix(in srgb,var(--brand)60%,var(--bd));
  box-shadow:0 0 0 3px color-mix(in srgb,var(--brand)22%,transparent);
  background:#0b1327;
}

/* Date nav */
.oc-date-nav{display:flex;align-items:center;gap:6px;}
.oc-date-nav button{
  border:1px solid var(--bd);background:#0f172a;color:var(--ink);
  border-radius:10px;padding:8px 10px;cursor:pointer;
  transition:transform .08s ease,filter .12s ease,box-shadow .12s ease;
}
.oc-date-nav button:hover{transform:translateY(-1px);}
.oc-date-nav .date-label{
  font-weight:800;padding:8px 12px;border-radius:10px;border:1px solid var(--bd);
  background:#0f172a;color:var(--ink);
}

/* ===== Main layout ===== */
.oc-main{
  max-width:1100px;margin:18px auto;
  display:grid;grid-template-columns:1fr;gap:16px;padding:0 16px;
}
@media(min-width:900px){
  .oc-main{grid-template-columns:1fr 380px;}
}

/* ===== Layout (panel+sidebar) — compact center panel without horizontal scroll ===== */
.oc-layout{
  /* sidebar ~260px | center min 600px and flexible */
  grid-template-columns:260px minmax(600px,1fr) !important;
}
.oc-panel{ background:var(--card);border:1px solid var(--bd);border-radius:var(--radius);
  overflow:hidden; box-shadow:var(--shadow-md); min-width:0 !important; }
.oc-slots{ width:100%; min-width:0 !important; }

/* ===== Panel header & hint ===== */
.oc-panel header{
  padding:8px 10px;border-bottom:1px solid var(--bd);
  display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap;
}
.oc-cap{ color:var(--muted);font-size:.86rem; }
.oc-hint{
  color:var(--muted);font-size:.9rem;padding:10px 16px;border-top:1px dashed var(--bd);
}

/* ===== Slots table-like list (Ultra-Compact, Left aligned, “live” columns) ===== */
.oc-row,
.oc-th{
  direction:ltr;           /* מציג מספרים ואחוזים שמאלה/תקין */
  text-align:left;         /* הכל לשמאל */
  align-items:center;
  display:grid;
  grid-template-columns:56px 1fr clamp(62px,12vw,86px); /* Time | Bar | Info (elastic) */
  gap:4px;
  padding:6px 8px;
  border-bottom:1px solid var(--bd);
  cursor:pointer;
}
.oc-th{
  background:#0d1526;font-weight:800;color:#e8ebf3;
}
.oc-row:hover{ background:#0e1629; }
.oc-time{ font-weight:800; font-size:.88rem; color:#e8ebf3; }

/* Occupancy bar — full width (no artificial scale), fills its grid column */
.oc-bar{
  position:relative;height:10px;background:#0c1220;border-radius:8px;overflow:hidden;margin-top:0;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.03);
}
.oc-bar .fill{
  height:100%;
  /* width is set by JS as percentage — keep it! */
  transform:none !important;
  transition:width .18s ease;
  background:linear-gradient(90deg,rgba(59,130,246,.85),rgba(59,130,246,1));
}
.oc-bar .fill.ok{  background:linear-gradient(90deg,rgba(16,185,129,.85),rgba(16,185,129,1)); }
.oc-bar .fill.mid{ background:linear-gradient(90deg,rgba(245,158,11,.85),rgba(245,158,11,1)); }
.oc-bar .fill.high{background:linear-gradient(90deg,rgba(239,68,68,.85),rgba(239,68,68,1)); }
.oc-row:hover .oc-bar .fill{ filter:brightness(1.05); }

/* Info (“People • Tables • %”) — tight to the bar, never swallowed */
.oc-info{
  font-size:.8rem; color:var(--muted);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  margin-inline-start:6px;
}

/* ===== Summary ===== */
.oc-summary{
  padding:12px 16px;border-top:1px solid var(--bd);color:var(--muted);
  background:#0d1526;
}
.oc-summary b{color:#f3f4f6}

/* ===== Right drawer ===== */
.oc-drawer{
  position:fixed;top:0;right:0;height:100%;width:380px;max-width:100%;
  background:var(--card);border-left:1px solid var(--bd);
  transform:translateX(100%);transition:transform .25s ease;z-index:1000;
  display:flex;flex-direction:column; box-shadow:var(--shadow-lg);
}
.oc-drawer.open{transform:translateX(0)}
.oc-drawer header{
  padding:12px 14px;border-bottom:1px solid var(--bd);display:flex;gap:8px;align-items:center;justify-content:space-between;
}
.oc-drawer header .title{font-weight:800}
.oc-drawer header .close{
  border:1px solid var(--bd);background:#0f172a;color:var(--ink);
  border-radius:10px;padding:6px 10px;cursor:pointer;
  transition:transform .08s ease;
}
.oc-drawer header .close:hover{ transform: translateY(-1px); }

.oc-drawer .toolbar{
  padding:10px 12px;border-bottom:1px solid var(--bd);display:flex;gap:8px;align-items:center;
}
.oc-drawer .toolbar input[type="search"]{
  flex:1;padding:8px 10px;border:1px solid var(--bd);border-radius:10px;
  background:#0b1327;color:var(--ink);outline:none;
  transition: box-shadow .15s ease, border-color .15s ease, background .15s ease;
}
.oc-drawer .toolbar input[type="search"]::placeholder{ color:#7b8796; }
.oc-drawer .toolbar input[type="search"]:focus{
  border-color: color-mix(in srgb, var(--brand) 60%, var(--bd));
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--brand) 22%, transparent);
  background:#0b1327;
}

.oc-drawer .body{padding:8px 12px;overflow:auto}
.tbl{width:100%;border-collapse:collapse}
.tbl th,.tbl td{padding:8px 6px;border-bottom:1px solid var(--bd);text-align:right}
.tbl th{background:#0d1526;font-weight:800;color:#dbe1ea}

/* ===== Buttons ===== */
.btn{
  border:1px solid var(--bd);background:#0f172a;color:var(--ink);
  border-radius:12px;padding:10px 12px;cursor:pointer;
  transition: transform .08s ease, box-shadow .12s ease, background .12s ease, filter .12s ease;
}
.btn:hover{ transform: translateY(-1px); }
.btn.primary{
  background:var(--brand);border-color:var(--brand);color:#fff;
  box-shadow: 0 10px 24px rgba(59,130,246,.28);
}
.btn.warn{ background:var(--danger);border-color:var(--danger);color:#fff; }

/* ===== Badges ===== */
.badge{
  display:inline-block;padding:2px 8px;border-radius:999px;font-size:.78rem;color:#0b1120;
  border:1px solid transparent; font-weight:800;
}
.badge.approved{ background:color-mix(in srgb, var(--ok) 90%, #ffffff 0%); color:#052e23; border-color:#064e3b; }
.badge.booked{   background:color-mix(in srgb, var(--warn) 90%, #ffffff 0%); color:#3b2502; border-color:#713f12; }
.badge.arrived{  background:#22d3ee; color:#002a33; border-color:#0891b2; }
.badge.cancelled{background:color-mix(in srgb, var(--danger) 90%, #ffffff 0%); color:#3f0005; border-color:#7f1d1d; }

.oc-spacer{flex:1}
img{display:block;max-width:100%}

/* ===== Mobile tweaks (still no horizontal scroll) ===== */
@media (max-width:720px){
  .oc-layout{ grid-template-columns:1fr !important; }
  .oc-row,.oc-th{
    grid-template-columns:52px 1fr clamp(56px,18vw,72px);
    gap:4px; padding:5px 8px;
  }
  .oc-info{ font-size:.78rem; }
}
/* === Fix: Mobile bars visible + left-align both tables + live bars === */

/* יישור לשמאל/לתחילית של שתי הטבלאות */
.oc-panel,
.oc-slots,
.oc-drawer .body,
.tbl {
  margin-inline-start: 0 !important;
  margin-inline-end: auto !important;
  justify-self: start !important;
}

/* אל תאפשרו גלילה אופקית / min-width חוסם */
.oc-panel{ overflow-x: hidden !important; min-width: 0 !important; }
.oc-slots{ min-width: 0 !important; width: 100% !important; }

/* טבלת הסלוטים – עמודות אלסטיות, המידע צמוד לשנתות */
.oc-row, .oc-th{
  direction: ltr !important;               /* מספרים/אחוזים מוצגים נכון */
  text-align: left !important;
  align-items: center;
  grid-template-columns: 56px minmax(280px, 1fr) clamp(60px, 12vw, 86px) !important;
  gap: 6px !important;
  padding: 6px 8px !important;
}
.oc-row > *, .oc-th > * { min-width: 0 !important; } /* מונע חיתוכים */

/* שנתות חיות: רוחב נקבע רק לפי width:% מה-JS (אין scale) */
.oc-bar{
  width: 100% !important;
  height: 10px !important;
  border-radius: 8px !important;
  overflow: hidden;
}
.oc-bar .fill{
  transform: none !important;
  width: var(--oc-w, auto);            /* אם ה-JS משתמש ב-style="width:XX%" זה ידרוס */
  transition: width .18s ease !important;
}

/* הטקסט People • Tables • % צמוד לשנתות ולא “נבלע” */
.oc-info{
  font-size: .82rem !important;
  color: var(--muted) !important;
  margin-inline-start: 6px !important;     /* צמוד לשנתות */
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

/* מגירה: גם הטבלה פנימה מיושרת לשמאל/לתחילית */
.oc-drawer .tbl,
.oc-drawer .tbl th,
.oc-drawer .tbl td{
  text-align: left !important;
  direction: ltr !important;
}

/* ===== Mobile tweaks ===== */
@media (max-width: 720px){
  /* לייאאוט חד־טורי, בלי גלילה לרוחב */
  .oc-layout{ grid-template-columns: 1fr !important; }

  /* נותנים לעמודת השנתות מינימום גדול כדי שתהיה “נראית” תמיד */
  .oc-row, .oc-th{
    grid-template-columns: 50px minmax(48vw, 1fr) clamp(56px, 22vw, 80px) !important;
    gap: 4px !important;
    padding: 6px 8px !important;
  }

  /* במובייל, שנתות קצת גבוהות יותר לנראות */
  .oc-bar{ height: 12px !important; }
  .oc-info{ font-size: .8rem !important; }
}

/* ===== מסכים בינוניים: עוד צמצום עדין, בלי לפגוע בקריאות ===== */
@media (min-width: 721px) and (max-width: 999px){
  .oc-row, .oc-th{
    grid-template-columns: 54px minmax(360px, 1fr) clamp(60px, 14vw, 84px) !important;
  }
}

